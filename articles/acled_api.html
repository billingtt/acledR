<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="acledR">
<title>Accessing and Utilizing ACLED's API • acledR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Accessing and Utilizing ACLED's API">
<meta property="og:description" content="acledR">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">acledR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/acled_api.html">ACLED API</a>
    <a class="dropdown-item" href="../articles/generate_counts.html">Generate Event Counts</a>
    <a class="dropdown-item" href="../articles/generate_movers.html">Generate Moving Statistics</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-acled-codebook">ACLED Codebook</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-acled-codebook">
    <a class="dropdown-item" href="../articles/acled_codebook.html">Overview</a>
    <a class="dropdown-item" href="../articles/event_types.html">Event and Sub-Event Types</a>
    <a class="dropdown-item" href="../articles/actors_interactions.html">Actors and Interactions</a>
    <a class="dropdown-item" href="../articles/time.html">Time</a>
    <a class="dropdown-item" href="../articles/geography.html">Geography</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/billingtt/acledR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Accessing and Utilizing ACLED's API</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/billingtt/acledR/blob/HEAD/vignettes/articles/acled_api.Rmd" class="external-link"><code>vignettes/articles/acled_api.Rmd</code></a></small>
      <div class="d-none name"><code>acled_api.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="access-to-the-api">Access to the API<a class="anchor" aria-label="anchor" href="#access-to-the-api"></a>
</h2>
<p>In order to use the ACLED API, you must first register an account at
<a href="developer.acleddata.com">ACLED’s Access Portal</a>. You can
then pass your account information to <code>R</code> to use the
<code><a href="../reference/acled_api.html">acled_api()</a></code> function. This information includes the email
and access key associated with your ACLED account.</p>
<p>Once you have acquired your credentials (email and key), you can
either use <code><a href="../reference/acled_access.html">acled_access()</a></code> to verify that the credentials
are correct (note that this counts as one download against your quota)
and store these in the environment for a given session, or manually
store them in the environment file to use them permanently across every
session.</p>
<p>To use <code><a href="../reference/acled_access.html">acled_access()</a></code> (recommended), run the
following:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/acled_access.html">acled_access</a></span><span class="op">(</span><span class="st">"your_email"</span>, <span class="st">"your_key"</span><span class="op">)</span> <span class="co"># to be run every session before doing an API call. </span></span></code></pre></div>
<p>Alternatively, to manually store them as an environmental variable,
run:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="st">"~"</span>, <span class="st">".Renviron"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>which will open your <code>.Renviron</code> file. Once there,
set:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>email_address <span class="op">=</span> <span class="st">"your_email"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>acled_key <span class="op">=</span> <span class="st">"your_key"</span><span class="op">)</span></span></code></pre></div>
<p>and save the file. If you run
<code>Sys.getenv("email_address")</code>, your associated email will
print; if you run <code>Sys.getenv("acled_key")</code>, your ACLED key
will print to the console.</p>
</div>
<div class="section level2">
<h2 id="acled-api">Acled API<a class="anchor" aria-label="anchor" href="#acled-api"></a>
</h2>
<p><code><a href="../reference/acled_api.html">acled_api()</a></code> is a wrapper to request and process ACLED
API calls. The function takes the following parameters:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>email <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          key <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          countries <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          regions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          start_date <span class="op">=</span> <span class="st">"1997-01-01"</span>,</span>
<span>          end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>          timestamp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          event_types <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>          monadic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>          <span class="va">...</span>,</span>
<span>          acled_access <span class="op">=</span> <span class="cn">TRUE</span>,<span class="co">#acled_access=TRUE only works when acled_access() was run beforehand, eliminating the need of email-key in acled_api()</span></span>
<span>          prompt <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="parameters-for-the-api">Parameters for the API<a class="anchor" aria-label="anchor" href="#parameters-for-the-api"></a>
</h2>
<p>The <code>countries</code> and <code>regions</code> parameters
specify where in the world to pull data from. If both are NULL (the
default), the API will return data for all countries available. Specific
countries may be requested via a vector of country names. Similarly,
entire regions may be requested via a vector of region names or numeric
codes. <code><a href="../reference/acled_countries.html">acledR::acled_countries</a></code> and
<code><a href="../reference/acled_regions.html">acledR::acled_regions</a></code> shows the full lists of countries and
regions available. If you specify both countries and regions, the call
will return only cases that fit both arguments. For example, if you
request <code>countries = c("Nigeria", "Mexico")</code> and
<code>regions = c("Western Africa")</code>, only Nigeria will be
returned since Mexico is not in Western Africa.</p>
<p>The <code>start_date</code> and <code>end_date</code> parameters
specify the time period requested in “yyyy-mm-dd” format.</p>
<p>With <code>timestamp</code> users can keep their data sets updated,
as it allows them to indicate a time stamp from when to collect events.
<code>timestamp</code> is not the same <code>event_date</code>, as time
stamp indicates when the event was added/modified in ACLED’s data set.
To learn more about how to keep your data sets up to date, please visit
this <a href="https://acleddata.com/acleddatanew/wp-content/uploads/dlm_uploads/2019/07/ACLED_Timestamp-Memo_Methodology-Note_6.2019.pdf" class="external-link">guide</a>.</p>
<p>Users can also use <code>event_types</code> to specify an event type
that they would be interested on. For this, users are required to enter
the event type of interest as a string. For example
<code>event_types = "battles"</code>.</p>
<p><code>monadic</code> is a logical parameter, which is
<code>FALSE</code> by default and returns the dyadic version of the data
. If set to <code>TRUE</code>, the monadic version based on actor 1 and
actor 2 will be returned.</p>
<p>The <code>...</code> parameter stands for other arguments that one
would like to include for the final query, such as ISO or interaction.
To utilize other arguments not included in the function parameters,
write them as “&amp;paramenter=value”, so for example: “&amp;iso=4”
(NOTE: there is no space in between characters). To learn more about
other valid parameters please visit our <a href="https://acleddata.com/acleddatanew//wp-content/uploads/dlm_uploads/2021/11/API-User-Guide_Feb2022.pdf" class="external-link">API
guide</a>.</p>
<p>The <code>acled_access</code> parameter is used to let the function
know that you have used <code>acled_access</code> during the current
session, thus, avoiding the need to include email and key on the
function. If <code>acled_access</code> is set to <code>FALSE</code>,
then the email and key arguments are necessary.</p>
<p>Finally, the <code>prompt</code> argument corresponds to how the
function handles big calls, and whether the user is interested on
receiving the interactive prompt which includes, among other
information, if their API call will be split in more than 1 call, and if
the user wants to do so. In cases where the users may not want to have
this interactive prompt, such as users utilizing this function as part
of a routine script, users can set <code>prompt = FALSE</code> to run
the function without the need of the interactive prompt.</p>
</div>
<div class="section level2">
<h2 id="handling-big-api-calls">Handling big API calls<a class="anchor" aria-label="anchor" href="#handling-big-api-calls"></a>
</h2>
<p>As it is common across APIs, handling big data requires particular
tweaks. In our case, the base API offers the possibility of utilizing
pagination to address some of these issues, a process that can be
confusing for newer users working with APIs, and making very big pulls
of data is often unreliable - which is why we recommend to do smaller
calls. However, in this package we provide a solution to both of these
issues.</p>
<p>First, in terms of pagination, our wrapper does this for the user
automatically, so there is no need to include pagination in their
calls.</p>
<p>Second, in terms of big calls, the <code><a href="../reference/acled_api.html">acled_api()</a></code> function
will first evaluate approximately how much data is the user requesting,
and after this, the user will be prompted with a message which includes:
number of countries requested, number of country-days, number of API
calls needed, and a question whether the user would like to proceed.
Currently, <code><a href="../reference/acled_api.html">acled_api()</a></code> works with a threshold of 300,000
country-days to determine whether to split the function. This way users
can be rest assured that the call will not hit any issues because of it
being too large (a problem some users encountered before), but also,
users now have more control over the calls they make in relation to the
API quota.</p>
<p>If users prefer to skip the interactive prompt, they can do so by
using the argument <code>prompt = FALSE</code>. While this ignores the
interactive prompt, the call will still be split if it reaches the
threshold.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>To see how this works in practice, we will show an example gathering
events from Brazil from January 2022 to the present.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/billingtt/acledR" class="external-link">acledR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/acled_access.html">acled_access</a></span><span class="op">(</span>email <span class="op">=</span> <span class="st">"acledexamples@gmail.com"</span>, key <span class="op">=</span> <span class="st">"M3PWwg3DIdhHMuDiilp5"</span><span class="op">)</span> <span class="co">#  This is an example, you will need to input your credentials.</span></span>
<span><span class="co">#&gt; $Success</span></span>
<span><span class="co">#&gt; [1] "Authorisation accepted"</span></span>
<span></span>
<span><span class="va">df_br</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span><span class="op">)</span>,</span>
<span>                   start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                   end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                   monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                   acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>The results return a tibble with each ACLED event in Brazil during
this time period:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_br</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 14,534</span></span>
<span><span class="co">#&gt; Columns: 31</span></span>
<span><span class="co">#&gt; $ data_id          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 9803139, 9803158, 9803318, 9803319, 9803320, 9803321,…</span></span>
<span><span class="co">#&gt; $ iso              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 76, 76, 76, 76, 76, 76, 76, 76, 76, 76, 76, 76, 76, 7…</span></span>
<span><span class="co">#&gt; $ event_id_cnty    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "BRA63084", "BRA63103", "BRA63263", "BRA63264", "BRA6…</span></span>
<span><span class="co">#&gt; $ event_id_no_cnty <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 63084, 63103, 63263, 63264, 63265, 63266, 63267, 6326…</span></span>
<span><span class="co">#&gt; $ event_date       <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2023-01-27, 2023-01-27, 2023-01-27, 2023-01-27, 2023…</span></span>
<span><span class="co">#&gt; $ year             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023, 2023,…</span></span>
<span><span class="co">#&gt; $ time_precision   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></span>
<span><span class="co">#&gt; $ event_type       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Protests", "Violence against civilians", "Protests",…</span></span>
<span><span class="co">#&gt; $ sub_event_type   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Peaceful protest", "Attack", "Peaceful protest", "Ar…</span></span>
<span><span class="co">#&gt; $ actor1           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Protesters (Brazil)", "Unidentified Gang and/or Poli…</span></span>
<span><span class="co">#&gt; $ assoc_actor_1    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Women (Brazil); Lawyers (Brazil)", NA, "Labour Group…</span></span>
<span><span class="co">#&gt; $ inter1           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 6, 3, 6, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 6,…</span></span>
<span><span class="co">#&gt; $ actor2           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, "Civilians (Brazil)", NA, "Unidentified Gang and/…</span></span>
<span><span class="co">#&gt; $ assoc_actor_2    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> NA, "Women (Brazil)", NA, "Military Forces of Brazil …</span></span>
<span><span class="co">#&gt; $ inter2           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 7, 0, 3, 0, 3, 3, 3, 1, 3, 7, 7, 7, 3, 7, 7, 7, 0,…</span></span>
<span><span class="co">#&gt; $ interaction      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 60, 37, 60, 13, 30, 33, 33, 33, 13, 33, 37, 37, 37, 3…</span></span>
<span><span class="co">#&gt; $ region           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "South America", "South America", "South America", "S…</span></span>
<span><span class="co">#&gt; $ country          <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Brazil", "Brazil", "Brazil", "Brazil", "Brazil", "Br…</span></span>
<span><span class="co">#&gt; $ admin1           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Sao Paulo", "Mato Grosso", "Bahia", "Goias", "Mato G…</span></span>
<span><span class="co">#&gt; $ admin2           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Sao Paulo", "Rondonopolis", "Salvador", "Anapolis", …</span></span>
<span><span class="co">#&gt; $ admin3           <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ location         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Sao Paulo - North Zone", "Rondonopolis", "Salvador",…</span></span>
<span><span class="co">#&gt; $ latitude         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -23.4739, -16.4708, -12.9711, -16.3267, -14.4751, -22…</span></span>
<span><span class="co">#&gt; $ longitude        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -46.6731, -54.6356, -38.5108, -48.9528, -59.5885, -43…</span></span>
<span><span class="co">#&gt; $ geo_precision    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1,…</span></span>
<span><span class="co">#&gt; $ source           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "Folha de S. Paulo", "Gazeta Digital", "G1", "Diario …</span></span>
<span><span class="co">#&gt; $ source_scale     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "National", "National", "National", "Subnational-Nati…</span></span>
<span><span class="co">#&gt; $ notes            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "On 27 January 2023, in Sao Paulo - North Zone (Sao P…</span></span>
<span><span class="co">#&gt; $ fatalities       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0, 1, 0, 1, 0, 0, 0, 2, 0, 1, 0, 2, 1, 1, 1, 1, 1, 0,…</span></span>
<span><span class="co">#&gt; $ timestamp        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1675118557, 1675118558, 1675118558, 1675118558, 16751…</span></span>
<span><span class="co">#&gt; $ iso3             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "BRA", "BRA", "BRA", "BRA", "BRA", "BRA", "BRA", "BRA…</span></span></code></pre></div>
<p>If instead we wanted multiple countries, we could execute:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_br_co</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"Colombia"</span><span class="op">)</span>,</span>
<span>                      start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                      end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                      acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>For an entire region, we omit the <code>countries</code> parameter
and supply a <code>regions</code> argument. Additionally, for only
gathering protests we provide an event_type argument:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"South America"</span><span class="op">)</span>,</span>
<span>                   start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                   end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                   event_type <span class="op">=</span> <span class="st">"Protests"</span>,</span>
<span>                   monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                   acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>To include time stamps from when to download the data, we add it as
either a string (“yyyy-mm-dd”) or as a numeric Unix time stamp:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_br_co</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"Colombia"</span><span class="op">)</span>,</span>
<span>                      start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                      end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                      monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                      <span class="co"># timestamp = "2022-01-24" -&gt; in the case of string</span></span>
<span>                      timestamp <span class="op">=</span> <span class="fl">1643056974</span>, <span class="co"># -&gt; in the case of a numeric Unix timestamp</span></span>
<span>                      acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>If we would like to include only one type of interaction, in this
case “Rioters versus Civilians” = 57, we add the interaction code to the
<code>extra</code> argument:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>countries <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"Colombia"</span><span class="op">)</span>,</span>
<span>                   start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                   end_date <span class="op">=</span> <span class="st">"2022-04-30"</span>,</span>
<span>                   monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                   ... <span class="op">=</span> <span class="st">"&amp;interaction=57"</span>,</span>
<span>                   acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>We could also request the monadic version of the data based on actor
1 and actor 2 by setting <code>monadic = TRUE</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_sa_monadic</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>regions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"South America"</span><span class="op">)</span>,</span>
<span>                           start_date <span class="op">=</span> <span class="st">"2022-01-01"</span>,</span>
<span>                           end_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>                           monadic <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                           acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                           prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<p>In both the dyadic and monadic versions, the API returns 138 unique
events. However, the number of unique entries for the dyadic version is
also 138, while it’s 50330 for the monadic version.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by ACLED.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
