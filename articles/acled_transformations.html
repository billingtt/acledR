<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="acledR">
<title>Transformation of ACLED data • acledR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Transformation of ACLED data">
<meta property="og:description" content="acledR">
<meta property="og:image" content="https://acled.github.io/acledR/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">acledR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/get_started.html">Get Started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-utilizing-acledr">Utilizing acledR</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-utilizing-acledr">
    <a class="dropdown-item" href="../articles/acled_api.html">ACLED API</a>
    <a class="dropdown-item" href="../articles/acled_update.html">Keeping your Dataset Updated</a>
    <a class="dropdown-item" href="../articles/acled_transformations.html">acledR Data Manipulation</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/acled_codebook.html">ACLED Codebook</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ACLED/acledR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Transformation of ACLED data</h1>
            
            <h4 data-toc-skip class="date">2022-11-11</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ACLED/acledR/blob/HEAD/vignettes/articles/acled_transformations.Rmd" class="external-link"><code>vignettes/articles/acled_transformations.Rmd</code></a></small>
      <div class="d-none name"><code>acled_transformations.Rmd</code></div>
    </div>

    
    
<p>The ACLED dataset is designed with user readability in mind. At
times, this focus might conflict with standard clean data principles,
such as having only a single value per column and row. To circumvent
these issues, and to make it easier to use ACLED data in certain
programmatic settings, you can use the data manipulation suite of
functions in the <code>acledR</code> package. Currently, ACLED has three
available functions: <code>acled_transform_interactions</code>,
<code>acled_transform_longer</code> and
<code>acled_transform_wider</code>.</p>
<div class="section level2">
<h2 id="switch-between-numeric-and-string-interaction-codes---acled_transform_interactions">1. Switch between numeric and string interaction codes -
<code>acled_transform_interactions()</code><a class="anchor" aria-label="anchor" href="#switch-between-numeric-and-string-interaction-codes---acled_transform_interactions"></a>
</h2>
<p>The first function in this suite,
<code>acled_transform_interactions()</code>, allows you to easily
transition from numeric interaction codes to a text description of the
interaction code.</p>
<p>In our analyses, we often refer to actor types by using text
categories (e.g. <em>State Forces</em> or <em>Rebel Groups</em>), while
our dataset structures these categories using a numeric categorization.
You can find more information - including a table of which actor
categories correspond to which numeric codes – in ACLED’s <a href="https://acleddata.com/download/2827/" class="external-link">codebook</a>.</p>
<p>This function allows you to convert your numeric codes into text
descriptions, without the time-consuming need of writing out these
changes yourself.</p>
<pre class="fun"><code><span><span class="fu">acled_transform_interactions</span><span class="op">(</span><span class="va">df</span>, </span>
<span>                only_inters <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> </span></code></pre>
<p>The function requires two arguments:</p>
<ul>
<li><p><code>data</code>: An ACLED dataset which includes the inter1 and
inter2 variables (when <code>only_inter = F</code>).</p></li>
<li><p><code>only_inters</code>: Boolean option on whether to include
only <em>inter1</em> and <em>inter2</em>, without including
<em>interaction</em>. This option defaults to <code>FALSE</code>, thus
including the <em>interaction</em> column.</p></li>
</ul>
<p>The function simply returns a modified dataframe with the swapped
inter &amp; interaction formats. In the <em>interaction</em> column, you
will find the actor types separated by “-”, for example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">acledR</span><span class="fu">::</span><span class="va"><a href="../reference/acled_old_dummy.html">acled_old_dummy</a></span><span class="op">[</span><span class="fl">39</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="co"># Displaying only relevant columns</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">event_id_cnty</span>, <span class="va">inter1</span>, <span class="va">inter2</span>, <span class="va">interaction</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">##   event_id_cnty inter1 inter2 interaction</span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> ARG10606           6      0          60</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> ARG10605           5      1          15</span></span></code></pre>
<p>… will change to …</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">acledR</span><span class="fu">::</span><span class="va"><a href="../reference/acled_old_dummy.html">acled_old_dummy</a></span><span class="op">[</span><span class="fl">39</span><span class="op">:</span><span class="fl">40</span>,<span class="op">]</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/acled_transform_interaction.html">acled_transform_interaction</a></span><span class="op">(</span><span class="op">)</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">event_id_cnty</span>, <span class="va">inter1</span>, <span class="va">inter2</span>, <span class="va">interaction</span><span class="op">)</span><span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 2 × 4</span></span></span>
<span><span class="co">##   event_id_cnty inter1     inter2       interaction         </span></span>
<span><span class="co">##   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">1</span> ARG10606      Protesters <span style="color: #BB0000;">NA</span>           Sole Protesters     </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">2</span> ARG10605      Rioters    State Forces State Forces-Rioters</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="from-wide-to-long-formats---acled_transform_longer">2. From wide to long formats -
<code>acled_transform_longer()</code><a class="anchor" aria-label="anchor" href="#from-wide-to-long-formats---acled_transform_longer"></a>
</h2>
<p><code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code> allows you to switch between
wide and long formats without the need to make a new API call. Typical
ACLED data is in a wide format, with multiple actors represented in each
row (see our <a href="https://acled.github.io/ACLED-api-guide/acled_endpoint.html#dyadic-versus-monadic-formats---export_type" class="external-link">API
interactive guide</a> for a more detailed explanation). This format
generally works well if you are interested in conducting event-based
analyses. Still, there are times when you may wish to conduct
actor-based analyses that are better suited to a long data format where
each actor has a separate row, and a single event may therefore be
represented in multiple rows.</p>
<p>Note that wide and long formats are generic terms that are more
specifically referred to as dyadic and monadic data types in other ACLED
documentation (see <a href="https://acled.github.io/ACLED-api-guide/acled_endpoint.html" class="external-link">ACLED
endpoint guide</a>).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/acled_transform_longer.html">acled_transform_longer</a></span><span class="op">(</span><span class="va">data</span>, </span>
<span>                type <span class="op">=</span> <span class="st">"full_actors"</span><span class="op">)</span> </span></code></pre></div>
<p><code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code> requires two arguments:</p>
<ul>
<li><p><code>data</code>: A wide format ACLED dataset.</p></li>
<li><p><code>type</code>: A character vector indicating which columns to
transpose (i.e. the columns that go from wide to long format).</p></li>
</ul>
<p>The available column options upon which ACLED data can be transposed
are:</p>
<ol style="list-style-type: decimal">
<li><p><code>full_actor</code>: Transposes all the actor columns in the
dataset (<em>actor1</em>, <em>actor2</em>, <em>assoc_actor_1</em>,
<em>assoc_actor_2</em>). There will be a separate row for each actor or
associate actor involved in each event. This generates four new columns:
<code>type_of_actor</code> and <code>actor</code>, and
<code>inter_type</code> and <code>inter</code>.
<code>type_of_actor</code> denotes the original column in which the
actor was found (i.e. <em>actor1</em>, <em>actor2</em>,
<em>assoc_actor_1</em>, <em>assoc_actor_2</em>), with the ‘actor’ column
simply being the actor’s name. Similarly, <code>inter</code> is the
actor’s inter code, with<code>inter_type</code> denoting whether the
code came from the <em>inter1</em> or <em>inter2</em> column.</p></li>
<li><p><code>main_actors</code>: Transposes only <em>actor1</em> and
<em>actor2</em>. There will be separate rows for main actors only. This
generates two new columns: <code>type_of_actor</code> and
<code>actor</code>. <code>type_of_actor</code> denotes the column in
which the actor was originally found, while <code>actor</code> is simply
the name of the actor.</p></li>
<li><p><code>assoc_actors</code>: Transposes only <em>assoc_actor_1</em>
and <em>assoc_actor_2</em> columns. There will be separate rows for
associate actors only. This generates two new columns:
<code>type_of_actor</code> and <code>actor</code>.
<code>type_of_actor</code> denotes whether the actor was originally
found in the <em>assoc_actor_1</em> or <em>assoc_actor_2</em> column,
while <code>actor</code> is simply the name of the associate actor.
<strong>Note:</strong> The data will still include <em>actor1</em> and
<em>actor2</em> columns.</p></li>
<li><p><code>source</code>: Transposes only the <em>source</em> column.
There will be a separate row for each source in the <em>source</em>
column.</p></li>
</ol>
<p>Keep in mind that you can receive some data in monadic/longer form
directly from ACLED’s API, but using this function instead can provide
some added benefits. Specifically:</p>
<ul>
<li><p>You can use this function to transform a dyadic/wide dataset to a
monadic/long dataset, thus receiving the latter without executing an
additional API call.</p></li>
<li><p>You have more control over the columns used when transforming
your dataset from wide to long format. This function allows you to
transpose on the following columns: <em>actor1</em> &amp;
<em>actor2</em>, <em>assoc_actor_1</em>, <em>assoc_actor_2</em>, and
<em>source</em>. The API only allows you to receive long-format data
based on <em>actor1</em>, <em>actor2</em>, <em>assoc_actor_1</em>,
<em>assoc_actor_2</em>, without an option to control if you want some of
these columns or all of them.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="from-long-to-wide-format---acled_transform_wider">From long to wide format - <code>acled_transform_wider()</code><a class="anchor" aria-label="anchor" href="#from-long-to-wide-format---acled_transform_wider"></a>
</h2>
<p><code>acledR</code> also offers the inverse of
<code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code>, allowing you to pivot your
dataframe back to a wider format (dyadic form). The function is meant to
aid users that may have used <code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code> and
would like to return the dataframe to its original state.</p>
<p>The function is similar to its counterpart:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/acled_transform_wider.html">acled_transform_wider</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>                      type <span class="op">=</span> <span class="st">"full_actors"</span><span class="op">)</span></span></code></pre></div>
<p>As you can see, the arguments are the same as those for
<code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code>:</p>
<ul>
<li><p><code>data</code>: A wide format ACLED dataset</p></li>
<li><p><code>type</code>: A character vector indicating which columns to
transpose (the columns that go from long to wide format).</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>In this section you can walk through a potential use case for the
transformation functions.</p>
<p>For this example, assume that you are interested in data from “South
America” during the first half of 2023. <strong>NOTE</strong>: The email
and key values below are only examples. You should provide your own
credentials that you can create by using <a href="https://apidocs.acleddata.com/get_started.html#getting-your-api-key" class="external-link">ACLED’s
website</a>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ACLED/acledR" class="external-link">acledR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/acled_access.html">acled_access</a></span><span class="op">(</span>email <span class="op">=</span> <span class="st">"your_email"</span>, key <span class="op">=</span> <span class="st">"your_key"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">df_sa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_api.html">acled_api</a></span><span class="op">(</span>regions <span class="op">=</span> <span class="st">"South America"</span>,</span>
<span>                   start_date <span class="op">=</span> <span class="st">"2023-01-01"</span>,</span>
<span>                   end_date <span class="op">=</span> <span class="st">"2023-06-01"</span>,</span>
<span>                   monadic <span class="op">=</span> <span class="cn">F</span>,</span>
<span>                   acled_access <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                   prompt <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Success! Credentials authorized</span></span></code></pre>
<pre><code><span><span class="co">## Requesting data for 13 country. Accounting for the requested time period and ACLED coverage dates, this request includes approximately 14,693 events.</span></span></code></pre>
<pre><code><span><span class="co">## Processing API request</span></span></code></pre>
<pre><code><span><span class="co">## Extracting content from API request</span></span></code></pre>
<p>Now that your data are in long format with one actor per row, you can
much more easily filter the data to retain only those events involving
the “Military Forces of Colombia (2022-)”:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mil_colombia</span> <span class="op">&lt;-</span> <span class="va">df_sa</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">actor1</span>,<span class="va">actor2</span>,<span class="va">assoc_actor_1</span>, <span class="va">assoc_actor_2</span>, sep <span class="op">=</span> <span class="st">";"</span><span class="op">)</span>, <span class="st">"Military Forces of Colombia (2022-)"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>In the filtered events there are 0 rows, meaning there were 0 events
where the “Military Forces of Colombia (2022-)” were involved as an
actor or associate actor.</p>
<p>Instead of filtering to the events involving a particular actor, you
may wish to calculate the number of events in which each actor in the
dataset participates. The issue is that an actor may be represented in
any of the four actor columns, so you cannot simply sum the number of
rows in which an actor appears in one particular column. A simple
solution is to transform the dataset into long form and then calculate
event counts for each actor. You can begin by using the
<code><a href="../reference/acled_transform_longer.html">acled_transform_longer()</a></code> function:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df_sa_long</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/acled_transform_longer.html">acled_transform_longer</a></span><span class="op">(</span><span class="va">df_sa</span>, type <span class="op">=</span> <span class="st">"full_actors"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Be aware, inter1 and inter2 represent the actor type of actor1 and actor2 respectively.</span></span></code></pre>
<p>The dataset is now in long form with each row representing a single
actor in a single event. You can now count the number of rows for each
actor, but only after grouping by <strong>unique</strong>
<em>event_id_cnty</em>. It is very important to count rows by unique
identifiers because when transforming data to long format, events can be
represented in multiple rows equal to the number of actors involved in
that event.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">actors_df_sa</span> <span class="op">&lt;-</span> <span class="va">df_sa_long</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">actor</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span>n_events <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">event_id_cnty</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>To verify your results, you can filter actor counts to only “Military
Forces of Colombia (2022-)”.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">actors_df_sa</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">actor</span> <span class="op">==</span> <span class="st">"Military Forces of Colombia (2022-)"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="va">.</span><span class="op">$</span><span class="va">n_events</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] 187</span></span></code></pre>
<p>The number of events matches the number of rows you got when first
filtering by actor.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Lucas Fagliano, Trey Billing, Rachel Goodman, Katayoun Kishi, Michael Start, ACLED.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
